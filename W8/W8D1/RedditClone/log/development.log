  [1m[35m (167.0ms)[0m  [1m[35mCREATE DATABASE "RedditClone_development" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (125.1ms)[0m  [1m[35mCREATE DATABASE "RedditClone_test" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (48.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ bin/rails:9
  [1m[35m (43.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6711173107426626090)[0m
  â†³ bin/rails:9
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to CreateUser (20210503170625)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (25.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying NOT NULL, "password_digest" character varying NOT NULL, "session_token" character varying NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20210503170625_create_user.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210503170625"]]
  â†³ bin/rails:9
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateSub (20210503171123)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "subs" ("id" bigserial primary key, "title" character varying NOT NULL, "description" character varying NOT NULL, "moderator_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20210503171123_create_sub.rb:3
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX  "index_subs_on_moderator_id" ON "subs"  ("moderator_id")[0m
  â†³ db/migrate/20210503171123_create_sub.rb:9
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210503171123"]]
  â†³ bin/rails:9
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreatePost (20210503171221)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "posts" ("id" bigserial primary key, "title" character varying NOT NULL, "url" character varying, "content" character varying, "sub_id" integer NOT NULL, "author_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20210503171221_create_post.rb:3
  [1m[35m (1.7ms)[0m  [1m[35mCREATE  INDEX  "index_posts_on_sub_id" ON "posts"  ("sub_id")[0m
  â†³ db/migrate/20210503171221_create_post.rb:11
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX  "index_posts_on_author_id" ON "posts"  ("author_id")[0m
  â†³ db/migrate/20210503171221_create_post.rb:12
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210503171221"]]
  â†³ bin/rails:9
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-03 17:13:59.086118"], ["updated_at", "2021-05-03 17:13:59.086118"]]
  â†³ bin/rails:9
  [1m[35m (40.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(6711173107426626090)[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6711173107426626090)[0m
  â†³ bin/rails:9
  [1m[35m (3.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6711173107426626090)[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/matthewbarnes/.rbenv/versions/2.5.1/bin/annotate:23
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6711173107426626090)[0m
  â†³ bin/rails:9
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to CreatePostSubs (20210503175250)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(6711173107426626090)[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6711173107426626090)[0m
  â†³ bin/rails:9
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to CreatePostSubs (20210503175250)
  [1m[35m (11.3ms)[0m  [1m[35mCREATE TABLE "posts_subs" ("post_id" bigint NOT NULL, "sub_id" bigint NOT NULL)[0m
  â†³ db/migrate/20210503175250_create_post_subs.rb:2
  [1m[35m (3.4ms)[0m  [1m[35mCREATE  INDEX  "index_posts_subs_on_post_id" ON "posts_subs"  ("post_id")[0m
  â†³ db/migrate/20210503175250_create_post_subs.rb:2
  [1m[35m (2.4ms)[0m  [1m[35mCREATE  INDEX  "index_posts_subs_on_sub_id" ON "posts_subs"  ("sub_id")[0m
  â†³ db/migrate/20210503175250_create_post_subs.rb:2
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210503175250"]]
  â†³ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(6711173107426626090)[0m
  â†³ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6711173107426626090)[0m
  â†³ bin/rails:9
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to ChangePostSubJoin (20210503180016)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (7.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "post_sub_un" ON "post_subs"  ("post_id", "sub_id")[0m
  â†³ db/migrate/20210503180016_change_post_sub_join.rb:3
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(6711173107426626090)[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6711173107426626090)[0m
  â†³ bin/rails:9
  [1m[35m (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to ChangePostSubJoin (20210503180016)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (9.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "post_sub_un" ON "posts_subs"  ("post_id", "sub_id")[0m
  â†³ db/migrate/20210503180016_change_post_sub_join.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210503180016"]]
  â†³ bin/rails:9
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(6711173107426626090)[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Started GET "/users/new" for ::1 at 2021-05-03 17:17:08 -0400
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/matthewbarnes/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.5/lib/active_record/log_subscriber.rb:98
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 724ms (Views: 720.1ms | ActiveRecord: 0.0ms)


Started POST "/users" for ::1 at 2021-05-03 17:18:02 -0400
Processing by UsersController#create as HTML
  Parameters: {"authenticity_token"=>"1MeiHtRFCYWZ8eS2NNEoXTptij-1tGFuLNMlACgR8qD4T7gT1xBFUQ7ItaQug3u-06Ct50upGTOx-llHCJbNug", "user"=>{"username"=>"asdf", "password"=>"[FILTERED]"}}
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:15
  [1m[36mUser Exists (41.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "asdf"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:15
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/users_controller.rb:15
Completed 500 Internal Server Error in 432ms (ActiveRecord: 92.4ms)



NoMethodError - undefined method `password' for #<User:0x00007fbff5105038>
Did you mean?  password=:
  app/controllers/users_controller.rb:15:in `create'

Started POST "/__better_errors/42f92a5d3018fc9a/variables" for ::1 at 2021-05-03 17:18:02 -0400
Started GET "/" for ::1 at 2021-05-03 14:24:42 -0700

ActiveRecord::NoDatabaseError - FATAL:  database "RedditClone_development" does not exist:

Started POST "/__better_errors/eecce7d107c2344d/variables" for ::1 at 2021-05-03 14:24:42 -0700
Started GET "/" for ::1 at 2021-05-03 14:27:08 -0700

ActiveRecord::NoDatabaseError - FATAL:  database "RedditClone_development" does not exist:

Started POST "/__better_errors/f83b5ab9b1b8c34f/variables" for ::1 at 2021-05-03 14:27:08 -0700
  [1m[35m (3166.4ms)[0m  [1m[35mCREATE DATABASE "RedditClone_development" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (1655.9ms)[0m  [1m[35mCREATE DATABASE "RedditClone_test" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35mSQL (1.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  â†³ db/schema.rb:16
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE IF EXISTS "posts" CASCADE[0m
  â†³ db/schema.rb:18
  [1m[35m (27.6ms)[0m  [1m[35mCREATE TABLE "posts" ("id" bigserial primary key, "title" character varying NOT NULL, "url" character varying, "content" character varying, "sub_id" integer NOT NULL, "author_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/schema.rb:18
  [1m[35m (3.7ms)[0m  [1m[35mCREATE  INDEX  "index_posts_on_author_id" ON "posts"  ("author_id")[0m
  â†³ db/schema.rb:18
  [1m[35m (4.5ms)[0m  [1m[35mCREATE  INDEX  "index_posts_on_sub_id" ON "posts"  ("sub_id")[0m
  â†³ db/schema.rb:18
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "posts_subs" CASCADE[0m
  â†³ db/schema.rb:30
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "posts_subs" ("post_id" bigint NOT NULL, "sub_id" bigint NOT NULL)[0m
  â†³ db/schema.rb:30
  [1m[35m (4.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "post_sub_un" ON "posts_subs"  ("post_id", "sub_id")[0m
  â†³ db/schema.rb:30
  [1m[35m (3.2ms)[0m  [1m[35mCREATE  INDEX  "index_posts_subs_on_post_id" ON "posts_subs"  ("post_id")[0m
  â†³ db/schema.rb:30
  [1m[35m (3.9ms)[0m  [1m[35mCREATE  INDEX  "index_posts_subs_on_sub_id" ON "posts_subs"  ("sub_id")[0m
  â†³ db/schema.rb:30
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "subs" CASCADE[0m
  â†³ db/schema.rb:38
  [1m[35m (9.1ms)[0m  [1m[35mCREATE TABLE "subs" ("id" bigserial primary key, "title" character varying NOT NULL, "description" character varying NOT NULL, "moderator_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/schema.rb:38
  [1m[35m (3.0ms)[0m  [1m[35mCREATE  INDEX  "index_subs_on_moderator_id" ON "subs"  ("moderator_id")[0m
  â†³ db/schema.rb:38
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  â†³ db/schema.rb:47
  [1m[35m (10.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying NOT NULL, "password_digest" character varying NOT NULL, "session_token" character varying NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/schema.rb:47
  [1m[35m (10.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ db/schema.rb:13
  [1m[35m (8.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ db/schema.rb:13
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210503180016)[0m
  â†³ db/schema.rb:13
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20210503170625),
(20210503171123),
(20210503171221),
(20210503175250);

[0m
  â†³ db/schema.rb:13
  [1m[35m (7.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (5.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ db/schema.rb:13
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-03 21:27:34.644789"], ["updated_at", "2021-05-03 21:27:34.644789"]]
  â†³ db/schema.rb:13
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35mSQL (0.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  â†³ db/schema.rb:16
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "posts" CASCADE[0m
  â†³ db/schema.rb:18
  [1m[35m (21.3ms)[0m  [1m[35mCREATE TABLE "posts" ("id" bigserial primary key, "title" character varying NOT NULL, "url" character varying, "content" character varying, "sub_id" integer NOT NULL, "author_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/schema.rb:18
  [1m[35m (3.4ms)[0m  [1m[35mCREATE  INDEX  "index_posts_on_author_id" ON "posts"  ("author_id")[0m
  â†³ db/schema.rb:18
  [1m[35m (3.0ms)[0m  [1m[35mCREATE  INDEX  "index_posts_on_sub_id" ON "posts"  ("sub_id")[0m
  â†³ db/schema.rb:18
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "posts_subs" CASCADE[0m
  â†³ db/schema.rb:30
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "posts_subs" ("post_id" bigint NOT NULL, "sub_id" bigint NOT NULL)[0m
  â†³ db/schema.rb:30
  [1m[35m (4.7ms)[0m  [1m[35mCREATE UNIQUE INDEX  "post_sub_un" ON "posts_subs"  ("post_id", "sub_id")[0m
  â†³ db/schema.rb:30
  [1m[35m (3.7ms)[0m  [1m[35mCREATE  INDEX  "index_posts_subs_on_post_id" ON "posts_subs"  ("post_id")[0m
  â†³ db/schema.rb:30
  [1m[35m (3.9ms)[0m  [1m[35mCREATE  INDEX  "index_posts_subs_on_sub_id" ON "posts_subs"  ("sub_id")[0m
  â†³ db/schema.rb:30
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "subs" CASCADE[0m
  â†³ db/schema.rb:38
  [1m[35m (9.1ms)[0m  [1m[35mCREATE TABLE "subs" ("id" bigserial primary key, "title" character varying NOT NULL, "description" character varying NOT NULL, "moderator_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/schema.rb:38
  [1m[35m (2.9ms)[0m  [1m[35mCREATE  INDEX  "index_subs_on_moderator_id" ON "subs"  ("moderator_id")[0m
  â†³ db/schema.rb:38
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  â†³ db/schema.rb:47
  [1m[35m (12.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying NOT NULL, "password_digest" character varying NOT NULL, "session_token" character varying NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/schema.rb:47
  [1m[35m (18.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ db/schema.rb:13
  [1m[35m (8.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ db/schema.rb:13
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210503180016)[0m
  â†³ db/schema.rb:13
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20210503170625),
(20210503171123),
(20210503171221),
(20210503175250);

[0m
  â†³ db/schema.rb:13
  [1m[35m (6.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (5.7ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ db/schema.rb:13
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-03 21:27:34.831777"], ["updated_at", "2021-05-03 21:27:34.831777"]]
  â†³ db/schema.rb:13
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-05-03 21:27:34.835051"], ["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (15.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Started GET "/" for ::1 at 2021-05-03 14:27:38 -0700
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /home/laptop/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.5/lib/active_record/log_subscriber.rb:98
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/laptop/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/railties-5.2.5/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/laptop/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/railties-5.2.5/lib/rails/templates/rails/welcome/index.html.erb (15.8ms)
Completed 200 OK in 81ms (Views: 49.7ms | ActiveRecord: 0.0ms)


Started GET "/new" for ::1 at 2021-05-03 14:27:50 -0700
  
ActionController::RoutingError (No route matches [GET] "/new"):
  
actionpack (5.2.5) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.5) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.5) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.5) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.5) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.5) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.5) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.5) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.5) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.5) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.5) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.5) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.5) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
railties (5.2.5) lib/rails/engine.rb:524:in `call'
puma (3.12.6) lib/puma/configuration.rb:227:in `call'
puma (3.12.6) lib/puma/server.rb:706:in `handle_request'
puma (3.12.6) lib/puma/server.rb:476:in `process_client'
puma (3.12.6) lib/puma/server.rb:334:in `block in run'
puma (3.12.6) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/session/new" for ::1 at 2021-05-03 14:28:04 -0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 914ms (Views: 914.0ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for ::1 at 2021-05-03 14:28:18 -0700
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (0.5ms)
Completed 200 OK in 54ms (Views: 53.8ms | ActiveRecord: 0.0ms)


Started POST "/users" for ::1 at 2021-05-03 14:28:25 -0700
Processing by UsersController#create as HTML
  Parameters: {"authenticity_token"=>"Ju9M64HXhGpC6ko1GKK8AdeIwWR6CP0t84sHrN3iI3ncjP41ka94jBO4F4fQU2aJX4Q7Lwk6s8eKrp61SE-t9w", "user"=>{"username"=>"ibrahim", "password"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:15
  [1m[36mUser Exists (5.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "ibrahim"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:15
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "session_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "ibrahim"], ["password_digest", "$2a$12$FqR37Zol0YyBBMIzEyyNGudku/3GoP4YwlgizWOriEv8U3FSfXKou"], ["session_token", "77uux3g2zFg5m9vpUduWDQ"], ["created_at", "2021-05-03 21:28:25.403543"], ["updated_at", "2021-05-03 21:28:25.403543"]]
  â†³ app/controllers/users_controller.rb:15
  [1m[35m (9.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:15
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:49
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "ibrahim"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:49
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "i70etjIhiwTN0SMGQyth0g"], ["updated_at", "2021-05-03 21:28:25.417648"], ["id", 1]]
  â†³ app/models/user.rb:49
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:49
Redirected to http://localhost:3000/users/1
Completed 302 Found in 279ms (ActiveRecord: 40.5ms)


Started GET "/users/1" for ::1 at 2021-05-03 14:28:25 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "i70etjIhiwTN0SMGQyth0g"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:9
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 41ms (Views: 32.9ms | ActiveRecord: 1.5ms)


Started GET "/users/1" for ::1 at 2021-05-03 14:39:42 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (14.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "i70etjIhiwTN0SMGQyth0g"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:9
  Rendering users/show.html.erb within layouts/application
  [1m[36mSub Load (14.5ms)[0m  [1m[34mSELECT "subs".* FROM "subs" WHERE "subs"."moderator_id" = $1[0m  [["moderator_id", 1]]
  â†³ app/views/users/show.html.erb:7
  Rendered users/show.html.erb within layouts/application (99.0ms)
Completed 500 Internal Server Error in 214ms (ActiveRecord: 110.5ms)



SyntaxError - syntax error, unexpected ':', expecting keyword_end
        inverse_of: :subs 
                  ^:
  app/models/post.rb:26:in `'
  app/views/users/show.html.erb:20:in `_app_views_users_show_html_erb___2963834520019940347_70368682290340'
  app/controllers/users_controller.rb:10:in `show'

Started POST "/__better_errors/3f2b73ae5698b3dd/variables" for ::1 at 2021-05-03 14:39:43 -0700
Started GET "/users/1" for ::1 at 2021-05-03 14:40:07 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "i70etjIhiwTN0SMGQyth0g"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:9
  Rendering users/show.html.erb within layouts/application
  [1m[36mSub Load (0.4ms)[0m  [1m[34mSELECT "subs".* FROM "subs" WHERE "subs"."moderator_id" = $1[0m  [["moderator_id", 1]]
  â†³ app/views/users/show.html.erb:7
  Rendered users/show.html.erb within layouts/application (7.8ms)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 1.4ms)



SyntaxError - syntax error, unexpected ':', expecting keyword_end
        inverse_of: :subs 
                  ^:
  app/models/post.rb:26:in `'
  app/views/users/show.html.erb:20:in `_app_views_users_show_html_erb___2963834520019940347_70184129041680'
  app/controllers/users_controller.rb:10:in `show'

Started POST "/__better_errors/548d6edaaa5ea8e0/variables" for ::1 at 2021-05-03 14:40:07 -0700
Started GET "/users/1" for ::1 at 2021-05-03 14:40:34 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "i70etjIhiwTN0SMGQyth0g"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:9
  Rendering users/show.html.erb within layouts/application
  [1m[36mSub Load (0.5ms)[0m  [1m[34mSELECT "subs".* FROM "subs" WHERE "subs"."moderator_id" = $1[0m  [["moderator_id", 1]]
  â†³ app/views/users/show.html.erb:7
  Rendered users/show.html.erb within layouts/application (27.5ms)
Completed 500 Internal Server Error in 58ms (ActiveRecord: 8.5ms)



SyntaxError - syntax error, unexpected tSYMBEG, expecting keyword_do or '{' or '('
        inverse_of :subs 
                   ^:
  app/models/post.rb:26:in `'
  app/views/users/show.html.erb:20:in `_app_views_users_show_html_erb___2963834520019940347_70184198964000'
  app/controllers/users_controller.rb:10:in `show'

Started POST "/__better_errors/a789a8e1b01d6051/variables" for ::1 at 2021-05-03 14:40:34 -0700
Started GET "/users/1" for ::1 at 2021-05-03 14:41:20 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "i70etjIhiwTN0SMGQyth0g"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:9
  Rendering users/show.html.erb within layouts/application
  [1m[36mSub Load (0.5ms)[0m  [1m[34mSELECT "subs".* FROM "subs" WHERE "subs"."moderator_id" = $1[0m  [["moderator_id", 1]]
  â†³ app/views/users/show.html.erb:7
  Rendered users/show.html.erb within layouts/application (16.4ms)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 1.0ms)



SyntaxError - syntax error, unexpected tSYMBEG, expecting keyword_do or '{' or '('
        inverse_of :subs 
                   ^:
  app/models/post.rb:26:in `'
  app/views/users/show.html.erb:20:in `_app_views_users_show_html_erb___2963834520019940347_70184207300280'
  app/controllers/users_controller.rb:10:in `show'

Started POST "/__better_errors/590725c3bf40396f/variables" for ::1 at 2021-05-03 14:41:20 -0700
Started GET "/users/1" for ::1 at 2021-05-03 14:41:38 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "i70etjIhiwTN0SMGQyth0g"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:9
  Rendering users/show.html.erb within layouts/application
  [1m[36mSub Load (0.3ms)[0m  [1m[34mSELECT "subs".* FROM "subs" WHERE "subs"."moderator_id" = $1[0m  [["moderator_id", 1]]
  â†³ app/views/users/show.html.erb:7
  [1m[36mPost Load (18.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."author_id" = $1[0m  [["author_id", 1]]
  â†³ app/views/users/show.html.erb:20
  Rendered users/show.html.erb within layouts/application (50.1ms)
Completed 200 OK in 103ms (Views: 60.3ms | ActiveRecord: 28.5ms)


Started GET "/users/1" for ::1 at 2021-05-03 14:59:57 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "i70etjIhiwTN0SMGQyth0g"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:9
  Rendering users/show.html.erb within layouts/application
  [1m[36mSub Load (0.9ms)[0m  [1m[34mSELECT "subs".* FROM "subs" WHERE "subs"."moderator_id" = $1[0m  [["moderator_id", 1]]
  â†³ app/views/users/show.html.erb:7
  [1m[36mPost Load (1.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."author_id" = $1[0m  [["author_id", 1]]
  â†³ app/views/users/show.html.erb:20
  Rendered users/show.html.erb within layouts/application (6.3ms)
Completed 200 OK in 47ms (Views: 36.4ms | ActiveRecord: 4.4ms)


Started GET "/users/1" for ::1 at 2021-05-03 15:06:14 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "i70etjIhiwTN0SMGQyth0g"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:9
  Rendering users/show.html.erb within layouts/application
  [1m[36mSub Load (0.7ms)[0m  [1m[34mSELECT "subs".* FROM "subs" WHERE "subs"."moderator_id" = $1[0m  [["moderator_id", 1]]
  â†³ app/views/users/show.html.erb:7
  [1m[36mPost Load (0.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."author_id" = $1[0m  [["author_id", 1]]
  â†³ app/views/users/show.html.erb:20
  Rendered users/show.html.erb within layouts/application (399.3ms)
Completed 500 Internal Server Error in 409ms (ActiveRecord: 2.6ms)



NameError - undefined local variable or method `user' for #<#<Class:0x00007faa117f52c0>:0x00007faa1c4e9580>
Did you mean?  @user:
  app/views/users/show.html.erb:29:in `_app_views_users_show_html_erb___2963834520019940347_70184298037580'
  app/controllers/users_controller.rb:10:in `show'

Started POST "/__better_errors/22ae1c8549e9d664/variables" for ::1 at 2021-05-03 15:06:15 -0700
Started GET "/users/1" for ::1 at 2021-05-03 15:06:28 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "i70etjIhiwTN0SMGQyth0g"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:9
  Rendering users/show.html.erb within layouts/application
  [1m[36mSub Load (0.4ms)[0m  [1m[34mSELECT "subs".* FROM "subs" WHERE "subs"."moderator_id" = $1[0m  [["moderator_id", 1]]
  â†³ app/views/users/show.html.erb:7
  [1m[36mPost Load (0.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."author_id" = $1[0m  [["author_id", 1]]
  â†³ app/views/users/show.html.erb:20
  Rendered users/show.html.erb within layouts/application (234.0ms)
Completed 500 Internal Server Error in 256ms (ActiveRecord: 2.3ms)



NoMethodError - undefined method `new_user_sub' for #<#<Class:0x00007faa117f52c0>:0x00007faa1c3d5180>
Did you mean?  new_user_url:
  app/views/users/show.html.erb:29:in `_app_views_users_show_html_erb___2963834520019940347_70184297471800'
  app/controllers/users_controller.rb:10:in `show'

Started POST "/__better_errors/f597a8526394b461/variables" for ::1 at 2021-05-03 15:06:29 -0700
Started GET "/users/1" for ::1 at 2021-05-03 15:07:26 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "i70etjIhiwTN0SMGQyth0g"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:9
  Rendering users/show.html.erb within layouts/application
  [1m[36mSub Load (0.6ms)[0m  [1m[34mSELECT "subs".* FROM "subs" WHERE "subs"."moderator_id" = $1[0m  [["moderator_id", 1]]
  â†³ app/views/users/show.html.erb:7
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."author_id" = $1[0m  [["author_id", 1]]
  â†³ app/views/users/show.html.erb:20
  Rendered users/show.html.erb within layouts/application (5.7ms)
Completed 200 OK in 61ms (Views: 54.6ms | ActiveRecord: 2.6ms)


Started GET "/users/1/subs/new" for ::1 at 2021-05-03 15:07:29 -0700
Processing by SubsController#new as HTML
  Parameters: {"user_id"=>"1"}
  Rendering subs/new.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "i70etjIhiwTN0SMGQyth0g"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5
  Rendered subs/new.html.erb within layouts/application (5.9ms)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.8ms)



ActionController::UrlGenerationError - No route matches {:action=>"update", :controller=>"subs", :user_id=>#<User id: 1, username: "ibrahim", password_digest: "$2a$12$FqR37Zol0YyBBMIzEyyNGudku/3GoP4YwlgizWOriEv...", session_token: "i70etjIhiwTN0SMGQyth0g", created_at: "2021-05-03 21:28:25", updated_at: "2021-05-03 21:28:25">}, missing required keys: [:id]:
  app/views/subs/new.html.erb:2:in `_app_views_subs_new_html_erb___3894372500987828418_70184199783140'
  app/controllers/subs_controller.rb:13:in `new'

Started POST "/__better_errors/c415cf9c02f15478/variables" for ::1 at 2021-05-03 15:07:29 -0700
Started DELETE "/session" for ::1 at 2021-05-03 15:07:37 -0700
Processing by SessionsController#destroy as HTML
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 1ms (ActiveRecord: 0.0ms)



ActionController::InvalidAuthenticityToken - ActionController::InvalidAuthenticityToken:

Started POST "/__better_errors/d2037633cfef3043/variables" for ::1 at 2021-05-03 15:07:37 -0700
Started DELETE "/session" for ::1 at 2021-05-03 15:08:50 -0700
Processing by SessionsController#destroy as HTML
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 1ms (ActiveRecord: 0.0ms)



ActionController::InvalidAuthenticityToken - ActionController::InvalidAuthenticityToken:

Started POST "/__better_errors/387c490ecabdcb98/variables" for ::1 at 2021-05-03 15:08:50 -0700
Started GET "/users/1" for ::1 at 2021-05-03 15:09:02 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "i70etjIhiwTN0SMGQyth0g"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:9
  Rendering users/show.html.erb within layouts/application
  [1m[36mSub Load (0.3ms)[0m  [1m[34mSELECT "subs".* FROM "subs" WHERE "subs"."moderator_id" = $1[0m  [["moderator_id", 1]]
  â†³ app/views/users/show.html.erb:7
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."author_id" = $1[0m  [["author_id", 1]]
  â†³ app/views/users/show.html.erb:20
  Rendered users/show.html.erb within layouts/application (3.1ms)
Completed 200 OK in 43ms (Views: 40.0ms | ActiveRecord: 1.3ms)


Started DELETE "/session" for ::1 at 2021-05-03 15:09:06 -0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"2WyrJ6DxytM0e9QyxpuJqNM1gvOw437DM0Lu1hEQF5kjDxn5sIk2NWUpiYAOalMgWzl4uMPRMClKZ3fPhL2ZFw"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "i70etjIhiwTN0SMGQyth0g"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5
Completed 500 Internal Server Error in 84ms (ActiveRecord: 0.3ms)



NoMethodError - undefined method `log_out!' for #<SessionsController:0x00007faa11e55048>
Did you mean?  logout:
  app/controllers/sessions_controller.rb:20:in `destroy'

Started POST "/__better_errors/2aba4af3ea4d950f/variables" for ::1 at 2021-05-03 15:09:06 -0700
Started GET "/users/1" for ::1 at 2021-05-03 15:09:53 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "i70etjIhiwTN0SMGQyth0g"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:9
  Rendering users/show.html.erb within layouts/application
  [1m[36mSub Load (0.3ms)[0m  [1m[34mSELECT "subs".* FROM "subs" WHERE "subs"."moderator_id" = $1[0m  [["moderator_id", 1]]
  â†³ app/views/users/show.html.erb:7
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."author_id" = $1[0m  [["author_id", 1]]
  â†³ app/views/users/show.html.erb:20
  Rendered users/show.html.erb within layouts/application (24.2ms)
Completed 200 OK in 84ms (Views: 54.0ms | ActiveRecord: 13.6ms)


Started DELETE "/session" for ::1 at 2021-05-03 15:09:55 -0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"F5o6DNihYC1WxVjvG-TaRyJTt6RIZ-z1OJfaA9r6K-Dt-YjSyNmcyweXBV3TFQDPql9N7ztVoh9BskMaT1elbg"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "i70etjIhiwTN0SMGQyth0g"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:49
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "ibrahim"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:49
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "OyQPc38WCDlNys0KrS8fVQ"], ["updated_at", "2021-05-03 22:09:55.266380"], ["id", 1]]
  â†³ app/models/user.rb:49
  [1m[35m (16.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:49
Redirected to http://localhost:3000/session/new
Completed 302 Found in 26ms (ActiveRecord: 18.7ms)


Started GET "/session/new" for ::1 at 2021-05-03 15:09:55 -0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 34ms (Views: 32.9ms | ActiveRecord: 0.0ms)


Started POST "/session" for ::1 at 2021-05-03 15:10:04 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"5eUvnoQfoy9g5IxrW3fw04Lpu_3cM9nWQK7EPujEMFYfhp1AlGdfyTG20dmThipbCuVBtq8Blzw5i10nfWm-2A", "user"=>{"username"=>"ibrahim", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "ibrahim"], ["LIMIT", 1]]
  â†³ app/models/user.rb:33
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:49
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "ibrahim"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:49
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "I2gFQ3cmcS6Bd0fLRb1zwA"], ["updated_at", "2021-05-03 22:10:04.949677"], ["id", 1]]
  â†³ app/models/user.rb:49
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:49
Redirected to http://localhost:3000/users/1
Completed 302 Found in 221ms (ActiveRecord: 3.6ms)


Started GET "/users/1" for ::1 at 2021-05-03 15:10:04 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "I2gFQ3cmcS6Bd0fLRb1zwA"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:9
  Rendering users/show.html.erb within layouts/application
  [1m[36mSub Load (0.4ms)[0m  [1m[34mSELECT "subs".* FROM "subs" WHERE "subs"."moderator_id" = $1[0m  [["moderator_id", 1]]
  â†³ app/views/users/show.html.erb:7
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."author_id" = $1[0m  [["author_id", 1]]
  â†³ app/views/users/show.html.erb:20
  Rendered users/show.html.erb within layouts/application (2.8ms)
Completed 200 OK in 49ms (Views: 45.6ms | ActiveRecord: 1.5ms)


Started GET "/users/1/subs/new" for ::1 at 2021-05-03 15:10:09 -0700
Processing by SubsController#new as HTML
  Parameters: {"user_id"=>"1"}
  Rendering subs/new.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "I2gFQ3cmcS6Bd0fLRb1zwA"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5
  Rendered subs/new.html.erb within layouts/application (5.3ms)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.4ms)



ActionController::UrlGenerationError - No route matches {:action=>"update", :controller=>"subs", :user_id=>#<User id: 1, username: "ibrahim", password_digest: "$2a$12$FqR37Zol0YyBBMIzEyyNGudku/3GoP4YwlgizWOriEv...", session_token: "I2gFQ3cmcS6Bd0fLRb1zwA", created_at: "2021-05-03 21:28:25", updated_at: "2021-05-03 22:10:04">}, missing required keys: [:id]:
  app/views/subs/new.html.erb:2:in `_app_views_subs_new_html_erb___3894372500987828418_70184297982760'
  app/controllers/subs_controller.rb:13:in `new'

Started POST "/__better_errors/fe8bdcae719c31b7/variables" for ::1 at 2021-05-03 15:10:09 -0700
Started GET "/users/1/subs/new" for ::1 at 2021-05-03 15:12:00 -0700
Processing by SubsController#new as HTML
  Parameters: {"user_id"=>"1"}
  Rendering subs/new.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "I2gFQ3cmcS6Bd0fLRb1zwA"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5
  Rendered subs/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 60ms (Views: 57.0ms | ActiveRecord: 0.3ms)


Started GET "/users/1/subs/new" for ::1 at 2021-05-03 15:12:49 -0700
Processing by SubsController#new as HTML
  Parameters: {"user_id"=>"1"}
  Rendering subs/new.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "I2gFQ3cmcS6Bd0fLRb1zwA"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5
  Rendered subs/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 36ms (Views: 34.5ms | ActiveRecord: 0.3ms)


Started POST "/users/1/subs" for ::1 at 2021-05-03 15:13:05 -0700
Processing by SubsController#create as HTML
  Parameters: {"authenticity_token"=>"e1_QgCl330S5VSFHikhHwm2xvAJbncYwAr9DzhA7J8GBPGJeOQ8jougHfPVCuZ1K5b1GSSiviNp7mtrXhZapTw", "sub"=>{"title"=>"cats", "description"=>"cats galore"}, "user_id"=>"1"}
Completed 500 Internal Server Error in 218ms (ActiveRecord: 0.0ms)



NameError - undefined local variable or method `sub_params' for #<SubsController:0x00007faa1131fcf0>
Did you mean?  @_params:
  app/controllers/subs_controller.rb:17:in `create'

Started POST "/__better_errors/f8f6605a9e142b71/variables" for ::1 at 2021-05-03 15:13:06 -0700
Started POST "/users/1/subs" for ::1 at 2021-05-03 15:15:12 -0700
Processing by SubsController#create as HTML
  Parameters: {"authenticity_token"=>"e1_QgCl330S5VSFHikhHwm2xvAJbncYwAr9DzhA7J8GBPGJeOQ8jougHfPVCuZ1K5b1GSSiviNp7mtrXhZapTw", "sub"=>{"title"=>"cats", "description"=>"cats galore"}, "user_id"=>"1"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/subs_controller.rb:19
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/subs_controller.rb:19
  [1m[36mSub Create (2.1ms)[0m  [1m[32mINSERT INTO "subs" ("title", "description", "moderator_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "cats"], ["description", "cats galore"], ["moderator_id", 1], ["created_at", "2021-05-03 22:15:12.745683"], ["updated_at", "2021-05-03 22:15:12.745683"]]
  â†³ app/controllers/subs_controller.rb:19
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/subs_controller.rb:19
Redirected to http://localhost:3000/subs/1
Completed 302 Found in 84ms (ActiveRecord: 11.3ms)


Started GET "/subs/1" for ::1 at 2021-05-03 15:15:12 -0700
Processing by SubsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSub Load (0.7ms)[0m  [1m[34mSELECT  "subs".* FROM "subs" WHERE "subs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/subs_controller.rb:3
  Rendering subs/show.html.erb within layouts/application
  Rendered subs/show.html.erb within layouts/application (308.9ms)
Completed 500 Internal Server Error in 319ms (ActiveRecord: 0.7ms)



NameError - undefined local variable or method `sub' for #<#<Class:0x00007faa11008418>:0x00007faa1106b798>
Did you mean?  @sub:
  app/views/subs/show.html.erb:1:in `_app_views_subs_show_html_erb___3147223093575895499_70184203404060'
  app/controllers/subs_controller.rb:4:in `show'

Started POST "/__better_errors/59ec6f1eb9c855b9/variables" for ::1 at 2021-05-03 15:15:13 -0700
Started GET "/subs/1" for ::1 at 2021-05-03 15:16:04 -0700
Processing by SubsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSub Load (0.5ms)[0m  [1m[34mSELECT  "subs".* FROM "subs" WHERE "subs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/subs_controller.rb:3
  Rendering subs/show.html.erb within layouts/application
  Rendered subs/show.html.erb within layouts/application (37.0ms)
Completed 500 Internal Server Error in 63ms (ActiveRecord: 0.5ms)



ActiveRecord::HasManyThroughAssociationNotFoundError - Could not find the association :posts_subs in model Sub:
  app/views/subs/show.html.erb:6:in `_app_views_subs_show_html_erb___3147223093575895499_70184129562600'
  app/controllers/subs_controller.rb:4:in `show'

Started POST "/__better_errors/6b7a056a7202efbc/variables" for ::1 at 2021-05-03 15:16:05 -0700
Started GET "/subs/1" for ::1 at 2021-05-03 15:17:39 -0700
Processing by SubsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSub Load (0.5ms)[0m  [1m[34mSELECT  "subs".* FROM "subs" WHERE "subs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/subs_controller.rb:3
  Rendering subs/show.html.erb within layouts/application
  Rendered subs/show.html.erb within layouts/application (20.4ms)
Completed 500 Internal Server Error in 54ms (ActiveRecord: 7.8ms)



ActiveRecord::StatementInvalid - PG::UndefinedTable: ERROR:  relation "post_subs" does not exist
LINE 8:                WHERE a.attrelid = '"post_subs"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod,
                     c.collname, col_description(a.attrelid, a.attnum) AS comment
                FROM pg_attribute a
                LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum
                LEFT JOIN pg_type t ON a.atttypid = t.oid
                LEFT JOIN pg_collation c ON a.attcollation = c.oid AND a.attcollation <> t.typcollation
               WHERE a.attrelid = '"post_subs"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum:
  app/views/subs/show.html.erb:6:in `_app_views_subs_show_html_erb___3147223093575895499_70184206605700'
  app/controllers/subs_controller.rb:4:in `show'

Started POST "/__better_errors/c53c1ce407a85cd7/variables" for ::1 at 2021-05-03 15:17:39 -0700
Started GET "/subs/1" for ::1 at 2021-05-03 15:18:16 -0700
Processing by SubsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSub Load (0.8ms)[0m  [1m[34mSELECT  "subs".* FROM "subs" WHERE "subs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/subs_controller.rb:3
  Rendering subs/show.html.erb within layouts/application
  Rendered subs/show.html.erb within layouts/application (21.8ms)
Completed 500 Internal Server Error in 50ms (ActiveRecord: 9.5ms)



ActiveRecord::StatementInvalid - PG::UndefinedTable: ERROR:  relation "post_subs" does not exist
LINE 8:                WHERE a.attrelid = '"post_subs"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod,
                     c.collname, col_description(a.attrelid, a.attnum) AS comment
                FROM pg_attribute a
                LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum
                LEFT JOIN pg_type t ON a.atttypid = t.oid
                LEFT JOIN pg_collation c ON a.attcollation = c.oid AND a.attcollation <> t.typcollation
               WHERE a.attrelid = '"post_subs"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum:
  app/views/subs/show.html.erb:6:in `_app_views_subs_show_html_erb___3147223093575895499_70184129596440'
  app/controllers/subs_controller.rb:4:in `show'

Started POST "/__better_errors/9a88c190218fdf84/variables" for ::1 at 2021-05-03 15:18:16 -0700
Started POST "/__better_errors/9a88c190218fdf84/variables" for ::1 at 2021-05-03 15:18:33 -0700
Started POST "/__better_errors/9a88c190218fdf84/eval" for ::1 at 2021-05-03 15:19:17 -0700
Started POST "/__better_errors/9a88c190218fdf84/eval" for ::1 at 2021-05-03 15:19:25 -0700
Started GET "/subs/1" for ::1 at 2021-05-03 15:26:53 -0700
Processing by SubsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSub Load (20.0ms)[0m  [1m[34mSELECT  "subs".* FROM "subs" WHERE "subs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/subs_controller.rb:3
  Rendering subs/show.html.erb within layouts/application
  Rendered subs/show.html.erb within layouts/application (71.2ms)
Completed 500 Internal Server Error in 129ms (ActiveRecord: 34.5ms)



ActiveRecord::StatementInvalid - PG::UndefinedTable: ERROR:  relation "post_subs" does not exist
LINE 1: SELECT "posts".* FROM "posts" INNER JOIN "post_subs" ON "pos...
                                                 ^
: SELECT "posts".* FROM "posts" INNER JOIN "post_subs" ON "posts"."id" = "post_subs"."post_id" WHERE "post_subs"."sub_id" = $1:
  app/views/subs/show.html.erb:6:in `_app_views_subs_show_html_erb___3147223093575895499_70184202383980'
  app/controllers/subs_controller.rb:4:in `show'

Started POST "/__better_errors/c95a70faf228b48a/variables" for ::1 at 2021-05-03 15:26:53 -0700
  [1m[35m (1.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6711173107426626090)[0m
  â†³ bin/rails:9
  [1m[35m (11.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to ChangePostsSubs (20210503223045)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "posts_subs" RENAME TO "post_subs"[0m
  â†³ db/migrate/20210503223045_change_posts_subs.rb:3
  [1m[35m (0.2ms)[0m  [1m[35mALTER INDEX "index_posts_subs_on_post_id" RENAME TO "index_post_subs_on_post_id"[0m
  â†³ db/migrate/20210503223045_change_posts_subs.rb:3
  [1m[35m (0.2ms)[0m  [1m[35mALTER INDEX "index_posts_subs_on_sub_id" RENAME TO "index_post_subs_on_sub_id"[0m
  â†³ db/migrate/20210503223045_change_posts_subs.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210503223045"]]
  â†³ bin/rails:9
  [1m[35m (6.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (13.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6711173107426626090)[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Started GET "/subs/1" for ::1 at 2021-05-03 15:32:41 -0700
  [1m[35m (14.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /home/laptop/.rbenv/versions/2.5.1/lib/ruby/gems/2.5.0/gems/activerecord-5.2.5/lib/active_record/log_subscriber.rb:98
Processing by SubsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSub Load (0.6ms)[0m  [1m[34mSELECT  "subs".* FROM "subs" WHERE "subs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/subs_controller.rb:3
  Rendering subs/show.html.erb within layouts/application
  [1m[36mPost Load (25.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" INNER JOIN "post_subs" ON "posts"."id" = "post_subs"."post_id" WHERE "post_subs"."sub_id" = $1[0m  [["sub_id", 1]]
  â†³ app/views/subs/show.html.erb:6
  Rendered subs/show.html.erb within layouts/application (59.0ms)
Completed 200 OK in 115ms (Views: 66.5ms | ActiveRecord: 36.5ms)


  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6711173107426626090)[0m
  â†³ bin/rails:9
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to ChangePostsSubs (20210503223045)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "posts_subs" RENAME TO "post_subs"[0m
  â†³ db/migrate/20210503223045_change_posts_subs.rb:3
  [1m[35m (0.4ms)[0m  [1m[35mALTER INDEX "index_posts_subs_on_post_id" RENAME TO "index_post_subs_on_post_id"[0m
  â†³ db/migrate/20210503223045_change_posts_subs.rb:3
  [1m[35m (0.3ms)[0m  [1m[35mALTER INDEX "index_posts_subs_on_sub_id" RENAME TO "index_post_subs_on_sub_id"[0m
  â†³ db/migrate/20210503223045_change_posts_subs.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210503223045"]]
  â†³ bin/rails:9
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(6711173107426626090)[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[36mPost Load (1.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mPost Load (0.8ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSub Load (41.6ms)[0m  [1m[34mSELECT "subs".* FROM "subs" INNER JOIN "post_subs" ON "subs"."id" = "post_subs"."sub_id" WHERE "post_subs"."post_id" = $1[0m  [["post_id", 1]]
  [1m[36mPostSub Load (0.4ms)[0m  [1m[34mSELECT "post_subs".* FROM "post_subs"[0m
  [1m[35m (6.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPostSub Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "post_subs" WHERE "post_subs"."post_id" = $1 AND "post_subs"."sub_id" = $2 LIMIT $3[0m  [["post_id", 1], ["sub_id", 1], ["LIMIT", 1]]
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSub Load (0.9ms)[0m  [1m[34mSELECT  "subs".* FROM "subs" WHERE "subs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPostSub Create (2.0ms)[0m  [1m[32mINSERT INTO "post_subs" ("post_id", "sub_id") VALUES ($1, $2)[0m  [["post_id", 1], ["sub_id", 1]]
  [1m[35m (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSub Load (0.9ms)[0m  [1m[34mSELECT  "subs".* FROM "subs" ORDER BY "subs"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" INNER JOIN "post_subs" ON "posts"."id" = "post_subs"."post_id" WHERE "post_subs"."sub_id" = $1[0m  [["sub_id", 1]]
  [1m[36mSub Load (0.5ms)[0m  [1m[34mSELECT "subs".* FROM "subs"[0m
  [1m[36mSub Load (0.3ms)[0m  [1m[34mSELECT "subs".* FROM "subs" WHERE "subs"."id" = $1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPostSub Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "post_subs" WHERE "post_subs"."post_id" IS NULL AND "post_subs"."sub_id" = $1 LIMIT $2[0m  [["sub_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mSub Load (0.4ms)[0m  [1m[34mSELECT "subs".* FROM "subs" WHERE "subs"."id" = $1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPostSub Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "post_subs" WHERE "post_subs"."post_id" IS NULL AND "post_subs"."sub_id" = $1 LIMIT $2[0m  [["sub_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPost Create (0.6ms)[0m  [1m[32mINSERT INTO "posts" ("title", "sub_id", "author_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "idk"], ["sub_id", 1], ["author_id", 1], ["created_at", "2021-05-04 00:05:21.559542"], ["updated_at", "2021-05-04 00:05:21.559542"]]
  [1m[36mPostSub Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "post_subs" WHERE "post_subs"."post_id" = $1 AND "post_subs"."sub_id" = $2 LIMIT $3[0m  [["post_id", 5], ["sub_id", 1], ["LIMIT", 1]]
  [1m[36mPostSub Create (0.4ms)[0m  [1m[32mINSERT INTO "post_subs" ("post_id", "sub_id") VALUES ($1, $2)[0m  [["post_id", 5], ["sub_id", 1]]
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSub Load (0.5ms)[0m  [1m[34mSELECT  "subs".* FROM "subs" ORDER BY "subs"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" INNER JOIN "post_subs" ON "posts"."id" = "post_subs"."post_id" WHERE "post_subs"."sub_id" = $1[0m  [["sub_id", 1]]
  [1m[36mPostSub Load (0.5ms)[0m  [1m[34mSELECT "post_subs".* FROM "post_subs"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPostSub Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "post_subs" WHERE "post_subs"."post_id" = $1 AND "post_subs"."sub_id" = $2 LIMIT $3[0m  [["post_id", 2], ["sub_id", 1], ["LIMIT", 1]]
  [1m[36mPost Load (1.4ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSub Load (0.9ms)[0m  [1m[34mSELECT  "subs".* FROM "subs" WHERE "subs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPostSub Create (0.6ms)[0m  [1m[32mINSERT INTO "post_subs" ("post_id", "sub_id") VALUES ($1, $2)[0m  [["post_id", 2], ["sub_id", 1]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPostSub Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "post_subs" WHERE "post_subs"."post_id" = $1 AND "post_subs"."sub_id" = $2 LIMIT $3[0m  [["post_id", 3], ["sub_id", 1], ["LIMIT", 1]]
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSub Load (0.4ms)[0m  [1m[34mSELECT  "subs".* FROM "subs" WHERE "subs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPostSub Create (0.3ms)[0m  [1m[32mINSERT INTO "post_subs" ("post_id", "sub_id") VALUES ($1, $2)[0m  [["post_id", 3], ["sub_id", 1]]
  [1m[35m (5.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPostSub Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "post_subs" WHERE "post_subs"."post_id" = $1 AND "post_subs"."sub_id" = $2 LIMIT $3[0m  [["post_id", 4], ["sub_id", 1], ["LIMIT", 1]]
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mSub Load (0.3ms)[0m  [1m[34mSELECT  "subs".* FROM "subs" WHERE "subs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPostSub Create (0.3ms)[0m  [1m[32mINSERT INTO "post_subs" ("post_id", "sub_id") VALUES ($1, $2)[0m  [["post_id", 4], ["sub_id", 1]]
  [1m[35m (5.7ms)[0m  [1m[35mCOMMIT[0m
